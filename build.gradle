buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
        mavenCentral()

    }
    dependencies {
        classpath "gradle.plugin.org.akhikhl.gretty:gretty:2.0.0"
    }
}

plugins {
    id "org.akhikhl.gretty" version "2.0.0"
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'war'

//war {
//    baseName = 'account-security-quickstart-spring'
//    version = '0.0.1-SNAPSHOT'
//}

sourceCompatibility = 1.8
targetCompatibility = 1.8
ext['logbackVersion'] = '1.2.3'

repositories {
    jcenter()
    mavenCentral()
    maven { url 'http://repo.spring.io/release' }
}

gretty {
    springBootVersion = '1.5.4.RELEASE'
    springBoot = true
    servletContainer = 'jetty9'
    contextPath = ''
}

configurations {
    providedRuntime
}

dependencies {
    compile("ch.qos.logback:logback-access:1.1.11")
    compile('net.rakugakibox.springbootext:spring-boot-ext-logback-access:1.6')
    compile("com.twilio.sdk:twilio:7.0.0-rc-29")
    testCompile("org.apache.httpcomponents:httpclient:4.3.6")
    testCompile("org.apache.httpcomponents:httpasyncclient:4.0.2")
    testCompile("org.apache.httpcomponents:httpmime:4.3.6")
    testCompile("org.json:json:20140107")
    testCompile("com.mashape.unirest:unirest-java:1.4.6")
    testCompile("org.jdom:jdom:2.0.2")
}

test {
    reports {
        junitXml.enabled = false
        html.enabled = false
    }
    testLogging {
        exceptionFormat = "full"
    }
}
